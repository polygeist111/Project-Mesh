


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Kover HTML Report Coverage Report > GlobalApp</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope: Kover HTML Report<span class="separator">|</span>    <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">release.com.greybox.projectmesh</a>
</div>

<h1>Coverage Summary for Class: GlobalApp (release.com.greybox.projectmesh)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
<th class="coverageStat 
">
  Instruction, %
</th>
</tr>
  <tr>
    <td class="name">GlobalApp$Companion</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$di$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/12)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$1$1$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/23)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$1$1$invokeSuspend$$inlined$map$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$1$1$invokeSuspend$$inlined$map$1$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$1$1$invokeSuspend$$inlined$map$1$2$1</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$10</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$11</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$11$invoke$$inlined$instance$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$12</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$12$invoke$$inlined$instance$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$13</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$13$invoke$$inlined$instance$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$13$invoke$$inlined$instance$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$13$invoke$$inlined$instance$default$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$13$invoke$$inlined$instance$default$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$13$invoke$$inlined$instance$default$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$13$invoke$$inlined$instance$default$5</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$13$invoke$$inlined$instance$default$6</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$14</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$14$invoke$$inlined$instance$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$14$invoke$$inlined$instance$default$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$2$invoke$$inlined$instance$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$3$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$5</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/20)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$6</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$7</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$7$invoke$$inlined$instance$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$7$invoke$$inlined$instance$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$7$invoke$$inlined$instance$default$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$8</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$8$invoke$$inlined$instance$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$9</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/23)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$9$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$10</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$11</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$12</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$13</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$5</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$6</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$7</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$8</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$bind$default$9</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$10</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$11</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$12</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$13</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$5</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$6</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$7</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$8</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$diModule$1$invoke$$inlined$singleton$default$9</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$GlobalUserRepo</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/27)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GlobalApp$insertTestConversations$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$insertTestConversations$1$invokeSuspend$$inlined$instance$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$onCreate$$inlined$instance$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$onCreate$$inlined$instance$default$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$onCreate$$inlined$instance$default$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$onCreate$$inlined$instance$default$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">GlobalApp$onCreate$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/57)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/79)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/11)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/31)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/207)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.greybox.projectmesh
&nbsp;
&nbsp;import android.annotation.SuppressLint
&nbsp;import android.app.Application
&nbsp;import android.content.Context
&nbsp;import android.content.SharedPreferences
&nbsp;import android.os.Build
&nbsp;import android.os.Environment
&nbsp;import android.util.Log
&nbsp;import androidx.datastore.preferences.core.edit
&nbsp;import androidx.datastore.preferences.core.intPreferencesKey
&nbsp;import androidx.room.Room
&nbsp;import androidx.room.migration.Migration
&nbsp;import androidx.sqlite.db.SupportSQLiteDatabase
&nbsp;import com.greybox.projectmesh.db.MeshDatabase
&nbsp;import com.greybox.projectmesh.extension.deviceInfo
&nbsp;import com.greybox.projectmesh.messaging.repository.ConversationRepository
&nbsp;import com.greybox.projectmesh.extension.networkDataStore
&nbsp;import com.greybox.projectmesh.server.AppServer
&nbsp;import com.ustadmobile.meshrabiya.ext.addressToDotNotation
&nbsp;import com.ustadmobile.meshrabiya.ext.asInetAddress
&nbsp;import com.ustadmobile.meshrabiya.ext.requireAddressAsInt
&nbsp;import com.ustadmobile.meshrabiya.vnet.AndroidVirtualNode
&nbsp;import com.ustadmobile.meshrabiya.vnet.randomApipaAddr
&nbsp;import kotlinx.coroutines.GlobalScope
&nbsp;import kotlinx.coroutines.coroutineScope
&nbsp;import kotlinx.coroutines.flow.first
&nbsp;import kotlinx.coroutines.flow.map
&nbsp;import kotlinx.coroutines.launch
&nbsp;import kotlinx.coroutines.runBlocking
&nbsp;import kotlinx.serialization.json.Json
&nbsp;import okhttp3.OkHttpClient
&nbsp;import org.kodein.di.DI
&nbsp;import org.kodein.di.DIAware
&nbsp;import org.kodein.di.bind
&nbsp;import org.kodein.di.instance
&nbsp;import org.kodein.di.singleton
&nbsp;import java.io.File
&nbsp;import java.net.InetAddress
&nbsp;import java.time.Duration
&nbsp;import java.util.UUID
&nbsp;import java.util.concurrent.ConcurrentHashMap
&nbsp;
&nbsp;import com.greybox.projectmesh.user.UserRepository
&nbsp;import com.greybox.projectmesh.messaging.data.entities.Message
&nbsp;import com.greybox.projectmesh.messaging.utils.MessageMigrationUtils
&nbsp;import com.greybox.projectmesh.testing.TestDeviceService
&nbsp;import com.greybox.projectmesh.user.UserEntity
&nbsp;import com.ustadmobile.meshrabiya.log.MNetLogger
&nbsp;import java.text.SimpleDateFormat
&nbsp;import java.util.Date
&nbsp;
&nbsp;/*
&nbsp;initialize global variables and DI(dependency injection) container
&nbsp;why use DI?
&nbsp;All dependencies are defined in one place, which makes it easier to manage and test.
&nbsp; */
&nbsp;class GlobalApp : Application(), DIAware {
&nbsp;    // it is an instance of Preferences.key&lt;Int&gt;, used to interact with &quot;DataStore&quot;
&nbsp;    private val addressKey = intPreferencesKey(&quot;virtual_node_address&quot;)
&nbsp;    /*data object DeviceInfoManager {
&nbsp;        // Global HashMap to store IP-DeviceName mapping
&nbsp;        private val deviceNameMap = ConcurrentHashMap&lt;String, String?&gt;()
&nbsp;
&nbsp;        // Helper method to add/update a device name
&nbsp;        fun addDevice(ipAddress: String, name: String?) {
&nbsp;            deviceNameMap[ipAddress] = name
&nbsp;        }
&nbsp;
&nbsp;        fun removeDevice(ipAddress: String) {
&nbsp;            deviceNameMap.remove(ipAddress)
&nbsp;        }
&nbsp;
&nbsp;        fun getDeviceName(inetAddress: String): String? {
&nbsp;            return deviceNameMap[inetAddress]
&nbsp;        }
&nbsp;
&nbsp;        fun getDeviceName(inetAddress: InetAddress): String? {
&nbsp;            return deviceNameMap[inetAddress.hostAddress]
&nbsp;        }
&nbsp;
&nbsp;        fun getChatName(inetAddress: InetAddress): String {
&nbsp;            return inetAddress.hostAddress
&nbsp;        }
&nbsp;    }*/
&nbsp;    object GlobalUserRepo {
&nbsp;        // Lateinit or lazy property
<b class="nc">&nbsp;        lateinit var userRepository: UserRepository</b>
<b class="nc">&nbsp;        lateinit var prefs: SharedPreferences</b>
<b class="nc">&nbsp;        lateinit var conversationRepository: ConversationRepository</b>
&nbsp;    }
&nbsp;    override fun onCreate() {
&nbsp;        super.onCreate()
&nbsp;        val sharedPrefs: SharedPreferences by di.instance(tag = &quot;settings&quot;)
&nbsp;        val uuid = sharedPrefs.getString(&quot;UUID&quot;, null)
&nbsp;        if (uuid == null) {
&nbsp;            // Generate a new UUID if one doesn&#39;t exist
&nbsp;            val newUuid = java.util.UUID.randomUUID().toString()
&nbsp;            sharedPrefs.edit().putString(&quot;UUID&quot;, newUuid).apply()
&nbsp;            Log.d(&quot;GlobalApp&quot;, &quot;Generated new UUID: $newUuid&quot;)
&nbsp;        }
&nbsp;
&nbsp;        //get the repositories from DI
&nbsp;        val repo: UserRepository by di.instance()
&nbsp;        GlobalUserRepo.userRepository = repo
&nbsp;        GlobalUserRepo.prefs = sharedPrefs
&nbsp;
&nbsp;        val convRepo: ConversationRepository by di.instance()
&nbsp;        GlobalUserRepo.conversationRepository = convRepo
&nbsp;
&nbsp;        //initialize deviceStatus Manager:
&nbsp;        val appServer: AppServer by di.instance()
&nbsp;        DeviceStatusManager.initialize(appServer)
&nbsp;
&nbsp;        //version checking migrating messages
&nbsp;        val hasMigratedMessages = sharedPrefs.getBoolean(&quot;has_migrated_messages&quot;, false)
&nbsp;        if (!hasMigratedMessages) {
<b class="nc">&nbsp;            GlobalScope.launch {</b>
&nbsp;                try {
<b class="nc">&nbsp;                    Log.d(&quot;GlobalApp&quot;, &quot;Starting message migration...&quot;)</b>
<b class="nc">&nbsp;                    val migrationUtils = MessageMigrationUtils(di)</b>
<b class="nc">&nbsp;                    migrationUtils.migrateMessagesToChatIds()</b>
&nbsp;                    // Mark migration as complete
<b class="nc">&nbsp;                    sharedPrefs.edit().putBoolean(&quot;has_migrated_messages&quot;, true).apply()</b>
<b class="nc">&nbsp;                    Log.d(&quot;GlobalApp&quot;, &quot;Message migration completed and marked as done&quot;)</b>
&nbsp;                } catch (e: Exception) {
<b class="nc">&nbsp;                    Log.e(&quot;GlobalApp&quot;, &quot;Error during message migration&quot;, e)</b>
&nbsp;                    // Don&#39;t mark as complete if there was an error
&nbsp;                }
&nbsp;            }
&nbsp;        } else {
&nbsp;            Log.d(&quot;GlobalApp&quot;, &quot;Message migration already performed, skipping&quot;)
&nbsp;        }
&nbsp;
&nbsp;        //add test convos
&nbsp;        insertTestConversations()
&nbsp;    }
&nbsp;
&nbsp;    fun insertTestConversations() {
&nbsp;        GlobalScope.launch {
&nbsp;            try {
&nbsp;                //get database instance
&nbsp;                val db: MeshDatabase by di.instance()
&nbsp;
&nbsp;                // Check if any messages exist first
&nbsp;                val existingMessages = db.messageDao().getAll()
&nbsp;                Log.d(&quot;GlobalApp&quot;, &quot;Found ${existingMessages.size} existing messages&quot;)
&nbsp;
&nbsp;                if (existingMessages.isEmpty()) {
&nbsp;                    Log.d(&quot;GlobalApp&quot;, &quot;No messages found, creating test messages...&quot;)
&nbsp;
&nbsp;                    val localUuid = GlobalUserRepo.prefs.getString(&quot;UUID&quot;, null) ?: &quot;local-user&quot;
&nbsp;
&nbsp;                    //insert test convo with online test device
&nbsp;                    val testDevice = TestDeviceService.getTestDeviceAddress()
&nbsp;                    val testUser = UserEntity(
&nbsp;                        uuid = &quot;test-device-uuid&quot;,
&nbsp;                        name = TestDeviceService.TEST_DEVICE_NAME,
&nbsp;                        address = testDevice.hostAddress
&nbsp;                    )
&nbsp;
&nbsp;                    //make sure the test user exists in the database
&nbsp;                    GlobalUserRepo.userRepository.insertOrUpdateUser(
&nbsp;                        testUser.uuid,
&nbsp;                        testUser.name,
&nbsp;                        testUser.address
&nbsp;                    )
&nbsp;
&nbsp;                    //create convo with the test device
&nbsp;                    val onlineConversation =
&nbsp;                        GlobalUserRepo.conversationRepository.getOrCreateConversation(
&nbsp;                            localUuid = localUuid,
&nbsp;                            remoteUser = testUser
&nbsp;                        )
&nbsp;
&nbsp;                    //create online test message
&nbsp;                    val onlineTestMessage = Message(
&nbsp;                        id = 0,
&nbsp;                        dateReceived = System.currentTimeMillis() - 3600000, // 1 hour ago
&nbsp;                        content = &quot;Hello world! This is a test message.&quot;,
&nbsp;                        sender = TestDeviceService.TEST_DEVICE_NAME,
&nbsp;                        chat = &quot;local-user-test-device-uuid&quot;  // Use ONLY conversation ID format
&nbsp;                    )
&nbsp;
&nbsp;                    //insert the message
&nbsp;                    db.messageDao().addMessage(onlineTestMessage)
&nbsp;
&nbsp;                    Log.d(
&nbsp;                        &quot;GlobalApp&quot;,
&nbsp;                        &quot;Inserted online test message with chat name: local-user-test-device-uuid&quot;
&nbsp;                    )
&nbsp;
&nbsp;                    //update convo with a test message
&nbsp;                    GlobalUserRepo.conversationRepository.updateWithMessage(
&nbsp;                        conversationId = onlineConversation.id,
&nbsp;                        message = onlineTestMessage
&nbsp;                    )
&nbsp;
&nbsp;                    //create offline test user and conversation
&nbsp;                    val offlineUser = UserEntity(
&nbsp;                        uuid = &quot;offline-test-device-uuid&quot;,
&nbsp;                        name = TestDeviceService.TEST_DEVICE_NAME_OFFLINE,
&nbsp;                        address = null // null address means offline
&nbsp;                    )
&nbsp;
&nbsp;                    //make sure the offline test user exists in the database
&nbsp;                    GlobalUserRepo.userRepository.insertOrUpdateUser(
&nbsp;                        offlineUser.uuid,
&nbsp;                        offlineUser.name,
&nbsp;                        offlineUser.address
&nbsp;                    )
&nbsp;
&nbsp;                    //create convo with the offline test device
&nbsp;                    val offlineConversation =
&nbsp;                        GlobalUserRepo.conversationRepository.getOrCreateConversation(
&nbsp;                            localUuid = localUuid,
&nbsp;                            remoteUser = offlineUser
&nbsp;                        )
&nbsp;
&nbsp;                    //create offline test message - use ONLY the conversation ID format
&nbsp;                    val offlineTestMessage = Message(
&nbsp;                        id = 0,
&nbsp;                        dateReceived = System.currentTimeMillis() - 3600000, // 1 hour ago
&nbsp;                        content = &quot;I&#39;m currently offline. Messages won&#39;t be delivered.&quot;,
&nbsp;                        sender = TestDeviceService.TEST_DEVICE_NAME_OFFLINE,
&nbsp;                        chat = &quot;local-user-offline-test-device-uuid&quot;  // Use ONLY conversation ID format
&nbsp;                    )
&nbsp;
&nbsp;                    //update test device statuses
&nbsp;                    DeviceStatusManager.updateDeviceStatus(TestDeviceService.TEST_DEVICE_IP, true)
&nbsp;                    DeviceStatusManager.updateDeviceStatus(TestDeviceService.TEST_DEVICE_IP_OFFLINE, false)
&nbsp;
&nbsp;                    // Insert the message
&nbsp;                    db.messageDao().addMessage(offlineTestMessage)
&nbsp;
&nbsp;                    Log.d(
&nbsp;                        &quot;GlobalApp&quot;,
&nbsp;                        &quot;Inserted offline test message with chat name: local-user-offline-test-device-uuid&quot;
&nbsp;                    )
&nbsp;
&nbsp;                    //update convo with the message
&nbsp;                    GlobalUserRepo.conversationRepository.updateWithMessage(
&nbsp;                        conversationId = offlineConversation.id,
&nbsp;                        message = offlineTestMessage
&nbsp;                    )
&nbsp;                    Log.d(&quot;GlobalApp&quot;, &quot;Test messages inserted successfully&quot;)
&nbsp;                }else {
&nbsp;                    Log.d(&quot;GlobalApp&quot;, &quot;Messages already exist, skipping insertion&quot;)
&nbsp;                }
&nbsp;            }catch (e: Exception ) {
&nbsp;                Log.e(&quot;GlobalApp&quot;, &quot;Error inserting test conversation&quot;, e)
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;    @SuppressLint(&quot;SimpleDateFormat&quot;)
&nbsp;    private val diModule = DI.Module(&quot;project_mesh&quot;) {
&nbsp;        // create a single instance of &quot;InetAddress&quot; for the entire lifetime of the application
&nbsp;        bind&lt;InetAddress&gt;(tag=TAG_VIRTUAL_ADDRESS) with singleton {
&nbsp;            // fetch an IP address from the data store or generate a random one
&nbsp;            // Run a coroutine in a blocking way, it will block the main thread
<b class="nc">&nbsp;            runBlocking {</b>
&nbsp;                // fetch the address from the data store
&nbsp;                val address = applicationContext.networkDataStore.data.map { preference -&gt;
&nbsp;                    preference[addressKey] ?: 0
&nbsp;                }.first()
&nbsp;
&nbsp;                // if the address is not 0, converted to an IP address
&nbsp;                if(address != 0) {
&nbsp;                    address.asInetAddress()
&nbsp;                }
&nbsp;                else{
&nbsp;                    // if not, generate a random one,
&nbsp;                    // store it in the data store and converted to IP address
&nbsp;                    randomApipaAddr().also {
<b class="nc">&nbsp;                            randomAddress -&gt; applicationContext.networkDataStore.edit {</b>
&nbsp;                        // &quot;it&quot; used to access the &#39;Preferences&#39; object
<b class="nc">&nbsp;                        it[addressKey] = randomAddress</b>
&nbsp;                    }
&nbsp;                    }.asInetAddress()
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;        bind&lt;MNetLogger&gt;() with singleton {
&nbsp;            val logFileNameDateComp = SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Date())
&nbsp;            val logDir: File = instance(tag = TAG_LOG_DIR)
&nbsp;            MNetLoggerAndroid(
&nbsp;                deviceInfo = deviceInfo(),
&nbsp;                minLogLevel = Log.DEBUG,
&nbsp;                logFile = File(logDir, &quot;${logFileNameDateComp}_${Build.MANUFACTURER}_${Build.MODEL}.log&quot;)
&nbsp;            )
&nbsp;        }
&nbsp;        bind &lt;Json&gt;() with singleton {
<b class="nc">&nbsp;            Json {</b>
<b class="nc">&nbsp;                encodeDefaults = true</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        bind&lt;File&gt;(tag = TAG_LOG_DIR) with singleton {
<b class="nc">&nbsp;            File(filesDir, &quot;log&quot;)</b>
&nbsp;        }
&nbsp;
&nbsp;        /*
&nbsp;        Ensuring a directory named &quot;www&quot; was created
&nbsp;        */
&nbsp;        bind&lt;File&gt;(tag = TAG_WWW_DIR) with singleton {
<b class="nc">&nbsp;            File(filesDir, &quot;www&quot;).also{</b>
<b class="nc">&nbsp;                if(!it.exists()) {</b>
<b class="nc">&nbsp;                    it.mkdirs()</b>
&nbsp;                }
<b class="nc">&nbsp;            }</b>
&nbsp;        }
&nbsp;
&nbsp;        bind&lt;File&gt;(tag = TAG_RECEIVE_DIR) with singleton {
<b class="nc">&nbsp;            File(filesDir, &quot;receive&quot;)</b>
&nbsp;        }
&nbsp;
&nbsp;        bind&lt;AndroidVirtualNode&gt;() with singleton {
&nbsp;            // initialize the AndroidVirtualNode Constructor
&nbsp;            AndroidVirtualNode(
&nbsp;                appContext = applicationContext,
&nbsp;                logger = instance(),
&nbsp;                json = instance(),
&nbsp;                // inject the &quot;InetAddress&quot; instance
&nbsp;                address = instance(tag = TAG_VIRTUAL_ADDRESS),
&nbsp;                dataStore = applicationContext.networkDataStore
&nbsp;            )
&nbsp;        }
&nbsp;        // The OkHttpClient will be created only once and shared across the app when needed
&nbsp;        bind&lt;OkHttpClient&gt;() with singleton {
&nbsp;            val node: AndroidVirtualNode = instance()
&nbsp;            OkHttpClient.Builder()
&nbsp;                .socketFactory(node.socketFactory)
&nbsp;                // The maximum time to wait for a connection to be established
&nbsp;                .connectTimeout(Duration.ofSeconds(30))
&nbsp;                // The maximum time to wait for data to be read from the server
&nbsp;                .readTimeout(Duration.ofSeconds(30))
&nbsp;                // The maximum time to wait for data to be written to the server
&nbsp;                .writeTimeout(Duration.ofSeconds(30))
&nbsp;                .build()
&nbsp;        }
&nbsp;
&nbsp;        bind&lt;MeshDatabase&gt;() with singleton {
<b class="nc">&nbsp;            Room.databaseBuilder(applicationContext,</b>
&nbsp;                MeshDatabase::class.java,
<b class="nc">&nbsp;                &quot;mesh-database&quot;</b>
&nbsp;            )
<b class="nc">&nbsp;                .addMigrations(object : Migration(3,4){</b>
&nbsp;                    override fun migrate(database: SupportSQLiteDatabase){
&nbsp;
&nbsp;                        //create convo table
<b class="nc">&nbsp;                        database.execSQL(</b>
<b class="nc">&nbsp;                            &quot;&quot;&quot;</b>
&nbsp;                                CREATE TABLE IF NOT EXISTS conversations ( 
&nbsp;                                    id TEXT PRIMARY KEY NOT NULL, 
&nbsp;                                    user_uuid TEXT NOT NULL, 
&nbsp;                                    user_name TEXT NOT NULL, 
&nbsp;                                    user_address TEXT, 
&nbsp;                                    last_message TEXT, 
&nbsp;                                    last_message_time INTEGER NOT NULL, 
&nbsp;                                    unread_count INTEGER NOT NULL DEFAULT 0, 
&nbsp;                                    is_online INTEGER NOT NULL DEFAULT 0
&nbsp;                            )
&nbsp;                            &quot;&quot;&quot;
&nbsp;                        )
&nbsp;                    }
&nbsp;                })
<b class="nc">&nbsp;                .fallbackToDestructiveMigration() // handle migrations destructively</b>
&nbsp;//                .allowMainThreadQueries() // this should generally be avoided for production apps
<b class="nc">&nbsp;                .build()</b>
&nbsp;        }
&nbsp;
&nbsp;        bind&lt;SharedPreferences&gt;(tag = &quot;settings&quot;) with singleton {
<b class="nc">&nbsp;            applicationContext.getSharedPreferences(&quot;settings&quot;, Context.MODE_PRIVATE)</b>
&nbsp;        }
&nbsp;        bind&lt;UserRepository&gt;() with singleton {
&nbsp;            UserRepository(instance&lt;MeshDatabase&gt;().userDao())
&nbsp;        }
&nbsp;
&nbsp;        bind&lt;ConversationRepository&gt;() with singleton {
&nbsp;            ConversationRepository(instance&lt;MeshDatabase&gt;().conversationDao(), di)
&nbsp;        }
&nbsp;
&nbsp;        bind&lt;AppServer&gt;() with singleton {
&nbsp;            val node: AndroidVirtualNode = instance()
&nbsp;            AppServer(
&nbsp;                appContext = applicationContext,
&nbsp;                httpClient = instance(),
&nbsp;                mLogger = instance(),
&nbsp;                port = AppServer.DEFAULT_PORT,
&nbsp;                name = node.addressAsInt.addressToDotNotation(),
&nbsp;                localVirtualAddr = node.address,
&nbsp;                receiveDir = instance(tag = TAG_RECEIVE_DIR),
&nbsp;                json = instance(),
&nbsp;                di = di,
&nbsp;                db = instance(),
&nbsp;                userRepository = instance()
&nbsp;            )
&nbsp;        }
&nbsp;
&nbsp;        onReady {
&nbsp;            // clears all data in the existing tables
&nbsp;            //GlobalScope.launch {
&nbsp;              //  instance&lt;MeshDatabase&gt;().messageDao().clearTable()
&nbsp;            //}
&nbsp;            val logger: MNetLogger = instance()
&nbsp;            instance&lt;AppServer&gt;().start()
&nbsp;            logger(Log.DEBUG,&quot;AppServer started successfully on Port: ${AppServer.DEFAULT_PORT}&quot;)
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    // DI container and its bindings are only set up when they are first needed
&nbsp;    override val di: DI by DI.lazy {
<b class="nc">&nbsp;        import(diModule)</b>
&nbsp;    }
&nbsp;
&nbsp;    companion object {
&nbsp;        const val TAG_VIRTUAL_ADDRESS = &quot;virtual_address&quot;
&nbsp;        const val TAG_RECEIVE_DIR = &quot;receive_dir&quot;
&nbsp;        const val TAG_WWW_DIR = &quot;www_dir&quot;
&nbsp;        const val TAG_LOG_DIR = &quot;log_dir&quot;
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-11-30 00:00</div>
</div>
</body>
</html>
